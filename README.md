# cs262_design3: Scale Models and Logical Clocks

### Description
In this design excercise, we built a simple, client-server chat application that allows multiple users to send and receive text messgages from a centralized server. The application allows the following operations: 
1. Check if an account exists: supply a unique username. If an account exists, you will be taken to login; otherwise you will be taken to account creation
2. Create an account: supply a unique username, password, and text bio.
3. Log in to an account
**All passwords are encrypted! **
4. List accounts: Users are able to see a list of existing accounts on the server. You can enter a search pattern in the text box below the "List Account" button to search for specific users; leaving the box blank will list all accounts instead.
5. Send a message to a recipient: If the recipient is logged in, deliver immediately; if not the message will be stored and delivered once the recipient logs in and requests to see it.
6. Read messages: If another user sends you a message when you are logged in, you will see it immediately. If you want to see messages sent while you were logged out, specify a number of messages to read in the text box below the "See new messages" button
7. Read archived messages: You can see previously read messages by specifying a number in the text box below the "See older messages" button.
8. Delete a message or set of messages: When on the GUI, to delete messages, type in the list of message ids you want to delete in the text box below the "Delete messages" button. Ids must be separated by commas. Ex: <5,6>. You can only delete messages you have received.
9. Delete an account
10. EXTRA FEATURE: "Find my nemesis" -- in honor of all the single people on Valentine's day, find the user you are most incompatible with based on your bios. It'll be hate at first text <3

### Usage Instructions
1. Download the repository
2. Setup: to set up your environment, run:
```
uv sync
source .venv/bin/activate
```
3. Set experiment configs: edit ```experiment_config.yaml```. Your config choices will be automatically saved in your experiment's log folder as ```config.yaml```
4. Run experiment:
```
python main.py
```
5. Parse logs:
```
python log_parser.py <PATH_TO_LOG>
```

### System Design 

**File Structure:**
- ```main.py```: main script to run experiments, and generate logs
- ```machine.py```: contains Machine class that simulates a virtual machine with its own logical clock
- ```log_parser.py```: parses logs generated by ```mainpy```
- ```config.yaml```: config file for experiments

gRPC specific files
- ```system.proto```: defines the gRPC service interface and message schemas
- ```system_pb2.py```: auto-generated, contains classes for each message, serialization logic, and type constraints
- ```system_pb2_grpc.py```: autogenerated, contains type hints
- ```system_pb2.pyi```: auto-generated, contains stub classes and server classes

for each ```logs``` experiment folder
- ```machine_0.log```: experiment log file (also exists for machine_1, machine_2)
- ```machine_0.csv```: experiment tabular data, parsed from logs (also exists for machine_1, machine_2)
- ```clock_rates.json```: clock_rate for each machine
- ```config.yaml```: auto-generated snapshot of experiment configs

testing files

**Protocols** 